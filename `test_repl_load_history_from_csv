def test_repl_load_history_from_csv(capsys):
    user_input = "add 1 2\nsave_history_to_csv test_history.csv\nload_history_from_csv test_history.csv\nexit\n"
    expected_output = "Data loaded from test_history.csv successfully\n"
    with patch('builtins.input', side_effect=user_input.split()):
        main()
        captured = capsys.readouterr()
        output_lines = captured.out.splitlines()
        assert expected_output in output_lines
